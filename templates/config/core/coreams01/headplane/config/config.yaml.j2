# Configuration for the Headplane server and web application
server:
  host: "::"
  port: 3000

  # The secret used to encode and decode web sessions
  # Ensure that this is exactly 32 characters long
  cookie_secret: "{{ headplane.cookie_secret }}"

  # Should the cookies only work over HTTPS?
  # Set to false if running via HTTP without a proxy
  cookie_secure: false

# Headscale specific settings to allow Headplane to talk
# to Headscale and access deep integration features
headscale:
  # The URL to your Headscale instance
  # (All API requests are routed through this URL)
  url: "http://[2a06:de00:50:cafe:10::1005]:8080"

  # Optional, public URL if they differ
  public_url: "https://headscale.nxthdr.dev"

  # Path to the Headscale configuration file
  # This is optional, but HIGHLY recommended for the best experience
  config_path: "/etc/headscale/config.yaml"

  # Headplane internally validates the Headscale configuration
  # to ensure that it changes the configuration in a safe way.
  config_strict: true

# Integration configurations for Headplane to interact with Headscale
integration:
  agent:
    # The Headplane agent allows retrieving information about nodes
    enabled: false
    # Pre-auth key required even when disabled (validation requirement)
    # Using placeholder since agent is disabled
    pre_authkey: "{{ headplane.agent_pre_authkey | default('disabled-placeholder-key') }}"

  docker:
    enabled: false

  kubernetes:
    enabled: false
    validate_manifest: true
    pod_name: "headscale"

  proc:
    enabled: false
